---
layout:     post
title:      Python和C#对比学习系列——构造函数及析构函数的对比
subtitle:   
date:       2022-04-01
author:     JohnWayne
header-img: resources/2022-04-01-构造函数及析构函数的对比/closet.jpg
catalog: true
tags:
    - Python
    - C#
    - 游戏开发
---

>Python和C#语法各有特色，笔者当前从自研引擎全面转向U3d的过程中，遇到很多C#和Python不一样的地方和概念，计划出一个对比系列，记录学习，也供python，C#双修党参考交流。

------


### Python的构造和析构
```python
# -*- coding: utf-8 -*-
class PyCmpCSharp1:
    '''Python的构造和析构'''
    #构造方法
    def __init__(self, name=None, age=None):
        print("调用带参数的构造方法")
        print("name:" + str(name))
        print("age:" + str(age))
    #析构方法    
    def __del__(self):
        print("销毁了")
        
obj = PyCmpCSharp1()
    
    
>>>
调用带参数的构造方法
name:None
age:None
销毁了

```
注意，python不支持重载，\__init__只能写一个
### 下面来看看C#的

```C#
using System;
 
public class PyCmpCSharp1
{
    public string name;
    public int age;
    //构造方法
    public PyCmpCSharp1()
    {
        Console.WriteLine("调用构造方法");
    }
    //构造方法
    public PyCmpCSharp1(string name, int age)
    {
        Console.WriteLine("调用带参数的构造方法");
        Console.WriteLine("name:"+name);
        Console.WriteLine("age:"+age.ToString());
    }
    
    //析构方法
    ~PyCmpCSharp1()
    {
        Console.WriteLine("销毁了");
    }
    
}

public class Test
{
    public static void Main()
	{
	    PyCmpCSharp1 obj_1 = new PyCmpCSharp1();
	    PyCmpCSharp1 obj_2 = new PyCmpCSharp1("张三", 18);
	}
}
>>>
调用构造方法
调用带参数的构造方法
name:张三
age:18
销毁了
销毁了

```


## 总结区别
python不支持重载;

C#析构函数只能被自动调用，python可以手动调用\__del__()。

作者 [张巍]

2022 年 04月 01日    


